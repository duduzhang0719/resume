<view class="container">
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-text">正在生成旅行路线...</view>
  </view>

  <view class="route-list" wx:else>
    <view class="card route-item" wx:for="{{routes}}" wx:key="index">
      <view class="title">方案{{index + 1}}</view>
      <view class="route-content">
        <view class="day-item" wx:for="{{item.days}}" wx:key="dayIndex" wx:for-item="day">
          <view class="day-title text-primary">第{{dayIndex + 1}}天</view>
          <view class="schedule-item" wx:for="{{day.schedule}}" wx:key="scheduleIndex" wx:for-item="schedule">
            <view class="time text-secondary">{{schedule.time}}</view>
            <view class="location text-primary" bindtap="navigateToDianping" data-url="{{schedule.dianpingUrl}}">
              {{schedule.location}}
            </view>
          </view>
        </view>
      </view>

      <view class="action-buttons flex-between">
        <button class="btn btn-default flex-1 mr-10" bindtap="getClothingAdvice" data-route-index="{{index}}">穿衣建议</button>
        <button class="btn btn-default flex-1 mr-10" bindtap="getTicketAdvice" data-route-index="{{index}}">门票购买预约攻略</button>
        <button class="btn btn-default flex-1" bindtap="getPhotoAdvice" data-route-index="{{index}}">拍照点位建议</button>
      </view>
    </view>
  </view>
</view> 